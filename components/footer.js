import { toggleSettingsPanel } from '../scripts/settings.js';

class UMKLFooter extends HTMLElement {
    constructor() {
        super();

        const template = document.createElement("template");
        template.innerHTML = `
            <style>
                .no-underline-link-footer { text-decoration: none }
                .no-color-link { color: #FFF !important }
                svg {
                    width: 18px;
                    height: 18px;
                    fill: #FFF;
                    margin-left: 2px;
                    margin-bottom: -1px;
                    vertical-align: middle;
                    cursor: pointer;
                }
                a svg:hover { opacity: 0.75; }
            </style>

            <div translate="no">
                Â© UMKL 2025 |
                <a class="no-color-link" href="pages/credits/">Credits</a> |
                <a class="no-color-link" title="Settings" id="settings-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"><path stroke="#141B34" stroke-linecap="round" stroke-width="1.671" d="m22.311 6.557-.55-.954c-.415-.722-.623-1.083-.977-1.227s-.754-.03-1.555.196l-1.36.383a2.2 2.2 0 0 1-1.513-.19l-.375-.215a2.23 2.23 0 0 1-.878-1.078L14.73 2.36c-.245-.735-.368-1.103-.659-1.312-.29-.212-.678-.212-1.452-.212h-1.242c-.774 0-1.16 0-1.452.212-.291.209-.412.577-.658 1.312l-.372 1.112a2.23 2.23 0 0 1-.879 1.078l-.375.217a2.23 2.23 0 0 1-1.514.19l-1.36-.385c-.8-.226-1.2-.34-1.554-.196s-.562.505-.978 1.226l-.55.955c-.39.677-.584 1.015-.546 1.375s.298.65.82 1.23l1.149 1.286c.28.355.48.975.48 1.532s-.2 1.177-.48 1.532l-1.15 1.284c-.52.58-.781.871-.82 1.231-.037.36.157.699.547 1.375l.55.955c.416.72.624 1.082.978 1.226.354.145.754.03 1.555-.196l1.36-.384a2.23 2.23 0 0 1 1.514.19l.374.216c.401.256.709.635.878 1.078l.372 1.111c.245.736.368 1.104.659 1.315s.678.21 1.452.21h1.242c.774 0 1.161 0 1.452-.21.291-.211.414-.58.658-1.315l.373-1.11c.17-.445.477-.823.878-1.08l.374-.215a2.23 2.23 0 0 1 1.516-.19l1.36.384c.8.227 1.2.34 1.553.197.354-.145.562-.506.978-1.227l.55-.955c.39-.676.584-1.014.546-1.375-.038-.36-.298-.65-.82-1.231l-1.149-1.284c-.28-.357-.48-.975-.48-1.532s.2-1.177.48-1.532l1.15-1.285c.52-.58.781-.87.82-1.231.037-.36-.157-.698-.547-1.375Z" style="fill:none;stroke:#fff;stroke-opacity:1"/><path stroke="#141B34" stroke-width="1.671" d="M15.852 11.97a3.9 3.9 0 1 1-7.8 0 3.9 3.9 0 0 1 7.8 0z" style="fill:none;stroke:#fff;stroke-opacity:1"/></svg>
                </a> |

                <a href="https://discord.gg/jz3hKEmDss" title="UMKL Discord server" class="no-color-link no-underline-link-footer">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 18"><path d="M20.317 1.516A19.8 19.8 0 0 0 15.432.001a.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.3 18.3 0 0 0-5.487 0 13 13 0 0 0-.617-1.25.08.08 0 0 0-.079-.037 19.7 19.7 0 0 0-4.885 1.515.1.1 0 0 0-.032.027C.533 6.192-.32 10.726.099 15.203a.08.08 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.08.08 0 0 0 .084-.028 14.09 14.09 0 0 0 1.226-1.994.076.076 0 0 0-.041-.106 13 13 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10 10 0 0 0 .372-.292.07.07 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.07.07 0 0 1 .078.01 10.02 10.02 0 0 0 .373.292.077.077 0 0 1-.006.127 12.3 12.3 0 0 1-1.873.892.077.077 0 0 0-.041.107 15.98 15.98 0 0 0 1.225 1.993.08.08 0 0 0 .084.028 19.8 19.8 0 0 0 6.002-3.03.08.08 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.06.06 0 0 0-.031-.03M8.02 12.476c-1.182 0-2.157-1.085-2.157-2.419s.956-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418m7.975 0c-1.183 0-2.157-1.085-2.157-2.419s.955-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418" fill="#fff"/></svg>
                </a>

                <a href="https://www.youtube.com/@universitymariokartleague" title="UMKL YouTube Channel" class="no-color-link no-underline-link-footer">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M23.498 6.186a3.02 3.02 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.02 3.02 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.02 3.02 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.02 3.02 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814M9.545 15.568V8.432L15.818 12z" fill="#fff"/></svg>
                </a>

                <a href="https://www.instagram.com/universitymariokartleague" title="UMKL Instagram Account" class="no-color-link no-underline-link-footer">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7.859 2.071c-1.064.05-1.791.22-2.425.469a4.917 4.917 0 0 0-1.77 1.157 4.917 4.917 0 0 0-1.15 1.772c-.246.637-.413 1.365-.46 2.428l-.053 4.122.069 4.122c.051 1.064.22 1.791.469 2.426a4.9 4.9 0 0 0 1.157 1.769 4.917 4.917 0 0 0 1.774 1.15c.636.246 1.363.413 2.427.46L12.02 22l4.122-.068c1.067-.05 1.789-.221 2.425-.469a4.917 4.917 0 0 0 1.769-1.157 4.917 4.917 0 0 0 1.15-1.774c.246-.636.413-1.363.459-2.427l.052-4.123-.067-4.122c-.05-1.067-.22-1.79-.47-2.426a4.917 4.917 0 0 0-1.156-1.769 4.883 4.883 0 0 0-1.773-1.15c-.637-.245-1.363-.413-2.428-.458l-4.122-.055-4.122.07m.117 18.077c-.975-.042-1.504-.204-1.857-.34a3.083 3.083 0 0 1-1.152-.746 3.083 3.083 0 0 1-.75-1.148c-.137-.352-.302-.882-.347-1.857l-.067-4.04.051-4.04c.042-.974.205-1.504.34-1.857a3.11 3.11 0 0 1 .746-1.152 3.083 3.083 0 0 1 1.149-.75c.353-.138.881-.301 1.856-.348l4.04-.067 4.042.052c.973.042 1.503.203 1.856.34.467.18.8.396 1.152.746s.567.681.75 1.148c.137.352.302.88.348 1.856l.067 4.04-.051 4.04c-.043.975-.204 1.504-.34 1.858a3.09 3.09 0 0 1-.747 1.15 3.083 3.083 0 0 1-1.148.75c-.352.137-.882.302-1.855.348l-4.042.066c-2.671.006-2.985-.005-4.04-.05m8.152-13.493a1.2 1.2 0 1 0 1.198-1.202 1.2 1.2 0 0 0-1.198 1.202m-9.262 5.355a5.135 5.135 0 1 0 10.269-.02 5.135 5.135 0 0 0-10.269.02m1.801-.003a3.333 3.333 0 1 1 3.34 3.327 3.333 3.333 0 0 1-3.34-3.327" fill="#fff"/></svg>
                </a>

                <a href="https://www.facebook.com/profile.php?id=61575273336011" title="UMKL Facebook Page" class="no-color-link no-underline-link-footer">
                    <svg style="margin-left:-1px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.584 21.706v-6.65H7.522V12h2.062v-1.317c0-3.404 1.54-4.982 4.882-4.982.334 0 .796.035 1.223.086a7.5 7.5 0 0 1 .951.162v2.771a7.5 7.5 0 0 0-.544-.03 22.5 22.5 0 0 0-.611-.008c-.589 0-1.049.08-1.396.258a1.417 1.417 0 0 0-.566.518c-.215.35-.312.829-.312 1.46V12h3.266l-.322 1.752-.239 1.303h-2.705v6.871C18.163 21.328 22 17.113 22 12c0-5.522-4.478-10-10-10S2 6.478 2 12c0 4.69 3.228 8.625 7.584 9.706" fill="#fff"/></svg>
                </a>
            </div>
        `;

        this.attachShadow({ mode: "open" }).appendChild(template.content.cloneNode(true));
    }

    connectedCallback() {
        const shadow = this.shadowRoot;

        const settingsButton = shadow.getElementById("settings-icon");

        settingsButton.addEventListener("click", () => {
            toggleSettingsPanel();
        });
    }
}

customElements.define("umkl-footer", UMKLFooter);