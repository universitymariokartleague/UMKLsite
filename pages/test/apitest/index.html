<!DOCTYPE html>
<html lang="en" data-overlayscrollbars-initialize>
    <head>
        <base href="../../../">

        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
        <title>apitest | University Mario Kart League</title>
        <link rel="shortcut icon" href="assets/image/brand/favicon.png" type="image/png">
        <link rel="stylesheet" href="css/style.css">
        <link rel="stylesheet" href="css/settings.css">
        <link rel="stylesheet" href="css/overlayscrollbars.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
        <meta name="color-scheme" content="dark light">

        <!-- Scripts -->
        <script>const meta=document.querySelector('meta[name="color-scheme"]'),root=document.querySelector(":root");let darkThemeEnabled;function checkTheme(){let e=parseInt(localStorage.getItem("darktheme"));isNaN(e)&&(e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?1:0),1===e?(meta.setAttribute("content","dark"),root.classList.add("dark-theme"),console.debug("%csettings.js %c> %cSetting dark theme","color:#ff4576","color:#fff","color:#ff9eb8")):(meta.setAttribute("content","light"),root.classList.add("light-theme"),console.debug("%csettings.js %c> %cSetting light theme","color:#ff4576","color:#fff","color:#ff9eb8"))}checkTheme();</script>
        <script defer src="scripts/overlayscrollbars.browser.es6.min.js"></script>
        <script src="scripts/overlayscrollbar.js" defer></script>
        <script type="module" src="scripts/settings.js" defer></script>
        <script src='https://cdnjs.cloudflare.com/ajax/libs/sql.js/1.5.0/sql-wasm.js' defer></script>
    </head>

    <body id="top" data-overlayscrollbars-initialize>
        <div class="navbar-container">
            <div class="nav-bar">
                <a class="nav-bar-title no-color-link no-underline-link-footer" href="#top">
                    <img alt="UMKL logo" class="nav-bar-logo" src="assets/image/brand/UMKLlogonav.webp" />
                    <h2>UMKL</h2>
                </a>    
                <nav class="nav-flex">
                    <ul id="nav-bar">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="pages/news/">News</a></li>
                        <li><a href="pages/teams/">Teams</a></li>
                        <li><a href="pages/matches/">Matches</a></li>
                        <li><a href="pages/rules/">Rules</a></li>
                        <li><a href="pages/faq/">FAQs</a></li>
                        <li><a target="_blank" class="nav-bar-link" href="https://discord.gg/jz3hKEmDss">Discord</a></li>
                    </ul>
                </nav>
                <!-- Dropdown navigation (shown on mobile) -->
                <div class="nav-dropdown">
                    <div class="nav-dropdown-button">☰</div>
                    <div class="nav-dropdown-content" id="nav-dropdown-bar">
                        <a href="index.html">Home</a>
                        <a href="pages/news/">News</a>
                        <a href="pages/teams/">Teams</a>
                        <a href="pages/matches/">Matches</a>
                        <a href="pages/rules/">Rules</a>
                        <a href="pages/faq/">FAQs</a>
                        <a target="_blank" class="nav-bar-link" href="https://discord.gg/jz3hKEmDss">Discord</a>
                    </div>
                </div>
            </div>
        </div>

        <main>
            <h1>apitest</h1>
            <hr class="hr-below-title">

            <p>
                <input id="sqlInput" type="text"> <button onclick="submitSQL()">Go!</button>
            </p>

            <div class="codeBox" id="apiTest"></div>
        </main>

        <footer>
            © UMKL 2025 |
            <a class="no-color-link" href="pages/credits/">Credits</a> |
            <a class="fa fa-gear no-color-link settingsBoxOpener"></a> |
            <a href="https://www.youtube.com/@universitymariokartleague" title="UMKL YouTube Channel" class="no-color-link no-underline-link-footer fa-brands fa-youtube"></a>
            <a href="https://www.instagram.com/universitymariokartleague" title="UMKL Instagram Account" class="no-color-link no-underline-link-footer fa-brands fa-instagram"></a>
            <a href="https://www.facebook.com/profile.php?id=61575273336011" title="UMKL Facebook Page" class="no-color-link no-underline-link-footer fa-brands fa-facebook"></a>            
            <a href="https://discord.gg/jz3hKEmDss" title="UMKL Discord Server" class="no-color-link no-underline-link-footer fa-brands fa-discord"></a>            
        </footer>
    </body>
</html>

<script>
    const apiTest = document.getElementById("apiTest");

    fetch('https://api.umkl.co.uk/query/')
        .then(response => response.json())
        .then(data => apiTest.innerHTML += `${JSON.stringify(data)}<br>`);

    function runSQL(sql) {
        fetch('https://api.umkl.co.uk/query/', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({
                query: `${sql}`
            })
            })
        .then(response => response.json())
        .then(data => apiTest.innerHTML += `${JSON.stringify(data)}<br>`);
    }

    function submitSQL() {
        const sqlInput = document.getElementById("sqlInput");
        console.log(sqlInput.value)
        runSQL(sqlInput.value)
    }
</script>